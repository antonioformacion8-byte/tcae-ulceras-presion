<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCAE - Tema 21: √ölceras por Presi√≥n</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Iconos Lucide como CSS */
        .icon { width: 1.5rem; height: 1.5rem; display: inline-block; }
        .icon-home::before { content: "üè†"; font-size: 1.2rem; }
        .icon-book::before { content: "üìñ"; font-size: 1.2rem; }
        .icon-download::before { content: "üì•"; font-size: 1.2rem; }
        .icon-study::before { content: "üìö"; font-size: 1.2rem; }
        .icon-exam::before { content: "‚ö°"; font-size: 1.2rem; }
        .icon-random::before { content: "üé≤"; font-size: 1.2rem; }
        .icon-calculator::before { content: "üìä"; font-size: 1.2rem; }
        .icon-gallery::before { content: "üñºÔ∏è"; font-size: 1.2rem; }
        .icon-stats::before { content: "üìà"; font-size: 1.2rem; }
        .icon-arrow-right::before { content: "‚Üí"; }
        .icon-arrow-left::before { content: "‚Üê"; }
        .icon-clock::before { content: "‚è∞"; }
        .icon-check::before { content: "‚úÖ"; color: green; }
        .icon-x::before { content: "‚ùå"; color: red; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const UlcerasPresionApp = () => {
            // Estados principales
            const [currentModule, setCurrentModule] = useState('home');
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showExplanation, setShowExplanation] = useState(false);
            const [userAnswers, setUserAnswers] = useState({});
            const [timer, setTimer] = useState(0);
            const [timerRunning, setTimerRunning] = useState(false);
            const [examFinished, setExamFinished] = useState(false);
            const [nortonScore, setNortonScore] = useState({ 
                condicion: 4, actividad: 4, movilidad: 4, incontinencia: 4, estado_mental: 4 
            });

            // Datos de las 22 preguntas
            const questions = [
                {
                    id: 253,
                    question: "Para generar una ulcera por presi√≥n (UPP) ser√≠a suficiente. Se√±ala la correcta:",
                    options: [
                        "Presiones peque√±as mantenidas durante periodos de tiempo prolongado, como presiones elevadas mantenidas durante 4 horas",
                        "Presiones peque√±as mantenidas durante periodos de tiempo prolongado, como presiones elevadas mantenidas durante 2 horas",
                        "Presiones peque√±as mantenidas durante periodo de tiempo prolongado, como presiones elevadas durante 24 horas",
                        "Presiones peque√±as mantenidas durante periodo de tiempo prolongado, como presiones elevadas durante 8 horas"
                    ],
                    correct: 1,
                    explanation: "Las UPP se pueden generar con presiones peque√±as mantenidas durante per√≠odos prolongados o con presiones elevadas durante per√≠odos m√°s cortos, como 2 horas. Este es un concepto fundamental para la prevenci√≥n."
                },
                {
                    id: 254,
                    question: "El sistema de clasificaci√≥n de las UPP en cuatro categor√≠as se establece en base al alcance en profundidad de la lesi√≥n. A que categor√≠a corresponder√≠a la p√©rdida total del espesor de los tejidos.",
                    options: ["Categor√≠a I", "Categor√≠a II", "Categor√≠a III", "Categor√≠a IV"],
                    correct: 3,
                    explanation: "La Categor√≠a IV corresponde a la p√©rdida total del espesor de los tejidos, llegando hasta hueso, tend√≥n o m√∫sculo. Es la m√°s grave."
                },
                {
                    id: 255,
                    question: "Las localizaciones de las UPP debidas a Dispositivos sanitarios (DS) depende del juicio cl√≠nico de la enfermera y de las acciones de prevenci√≥n. Cual de este dispositivo no causar√≠a UPP en la Nariz.",
                    options: ["Gafas Nasales", "Sondas Nasog√°stricas", "Drenajes", "Mascarilla"],
                    correct: 2,
                    explanation: "Los drenajes no se colocan en la nariz, por lo que no causar√≠an UPP en esa localizaci√≥n. Las gafas nasales, sondas nasog√°stricas y mascarillas s√≠ pueden causar lesiones por presi√≥n en la nariz."
                },
                {
                    id: 256,
                    question: "Las localizaciones m√°s frecuentes de las UPP se corresponden con zonas de apoyo. Si el paciente est√° en dec√∫bito lateral, que zona no se localizar√≠a UPP:",
                    options: ["Mal√©olos", "Costillas", "Orejas", "Coxis"],
                    correct: 3,
                    explanation: "En dec√∫bito lateral, el coxis no est√° en contacto directo con la superficie de apoyo, por lo que no ser√≠a una zona t√≠pica de UPP en esta posici√≥n. S√≠ lo ser√≠an mal√©olos, costillas y orejas."
                },
                {
                    id: 257,
                    question: "Dentro de las medidas de prevenci√≥n de UPP, cual no es correcta:",
                    options: ["Control de humedad", "Educaci√≥n sanitaria", "Gasto sanitario", "Valoraci√≥n y cuidados nutricionales"],
                    correct: 2,
                    explanation: "El 'gasto sanitario' no es una medida de prevenci√≥n de UPP. Las medidas correctas incluyen control de humedad, educaci√≥n sanitaria y valoraci√≥n nutricional."
                },
                {
                    id: 258,
                    question: "Cu√°l de estos factores de riesgo en la aparici√≥n de UPP, no es un factor intr√≠nseco:",
                    options: ["Diabetes", "Incontinencia Urinaria", "Humedad", "Inconsciencia"],
                    correct: 2,
                    explanation: "La humedad es un factor extr√≠nseco (del entorno), mientras que diabetes, incontinencia urinaria e inconsciencia son factores intr√≠nsecos (del paciente)."
                },
                {
                    id: 259,
                    question: "La Escala Norton, mide el riesgo que tiene un paciente de padecer √∫lceras por presi√≥n UPP, que valoraci√≥n de riesgo no es correcta.",
                    options: ["De 10 a 12 riesgo alto", "De 11 a 20 riesgo m√≠nimo", "De 5 a 9 riesgo muy alto", "De 13 a 14 riesgo medio"],
                    correct: 1,
                    explanation: "En la Escala Norton, de 11 a 20 NO es riesgo m√≠nimo. La puntuaci√≥n correcta es: 5-9 riesgo muy alto, 10-12 riesgo alto, 13-14 riesgo medio, 15-20 riesgo m√≠nimo."
                },
                {
                    id: 260,
                    question: "Para minimizar el efecto de la presi√≥n como causa de UPP, se recomienda considerar cuatro elementos, cu√°l de estos no es correcto.",
                    options: ["Cambios posturales", "Utilizaci√≥n de flotadores cuando el individuo est√© en sedestaci√≥n", "Protecci√≥n local ante la presi√≥n", "Movilizaci√≥n"],
                    correct: 1,
                    explanation: "NO se recomienda el uso de flotadores tipo 'donut' ya que pueden concentrar la presi√≥n en los bordes y empeorar la circulaci√≥n en la zona central."
                },
                {
                    id: 261,
                    question: "En pacientes encamados por norma general se recomienda realizar cambios posturales siguiendo una rotaci√≥n programada cada:",
                    options: ["Cada 4 o 5 horas", "Cada 8 Horas", "Cada 2 o 3 horas", "Cada 10 horas"],
                    correct: 2,
                    explanation: "Los cambios posturales deben realizarse cada 2-3 horas en pacientes encamados para evitar la presi√≥n prolongada sobre las mismas zonas corporales."
                },
                {
                    id: 262,
                    question: "Cu√°l de estas fases, no forman parte del proceso de cicatrizaci√≥n de Las UPP:",
                    options: ["Inflamaci√≥n", "Epitelizaci√≥n", "Exudado", "Hemostasia"],
                    correct: 2,
                    explanation: "El 'exudado' no es una fase de cicatrizaci√≥n, sino un producto de la herida. Las fases correctas son: hemostasia, inflamaci√≥n, proliferaci√≥n y epitelizaci√≥n."
                },
                {
                    id: 263,
                    question: "Cual no es un m√©todo de obtenci√≥n de una muestra de exudado para el cultivo de microorganismos.",
                    options: ["Aspiraci√≥n percut√°nea", "Ap√≥sito", "El frotis mediante hisopo", "Biopsia tisular"],
                    correct: 1,
                    explanation: "El 'ap√≥sito' no es un m√©todo de obtenci√≥n de muestra para cultivo. Los m√©todos correctos son aspiraci√≥n percut√°nea, frotis con hisopo y biopsia tisular."
                },
                {
                    id: 264,
                    question: "Los productos que generan unas condiciones √≥ptimas que favorecen el cierre de heridas cr√≥nicas UPP, se basan en la cura en ambiente h√∫medo. Cual no es correcta.",
                    options: ["Hidrocoloides", "Ap√≥sito de Gasa", "Hidrogeles", "Hidrofibras gelificantes"],
                    correct: 1,
                    explanation: "Los ap√≥sitos de gasa NO mantienen un ambiente h√∫medo √≥ptimo para la cicatrizaci√≥n. Los productos correctos para cura h√∫meda son hidrocoloides, hidrogeles e hidrofibras."
                }
            ];

            // Resumen te√≥rico
            const theoreticalContent = {
                title: "√öLCERAS POR PRESI√ìN - Resumen Te√≥rico (Ingenier√≠a Inversa)",
                sections: [
                    {
                        title: "1. DEFINICI√ìN Y FISIOPATOLOG√çA",
                        content: `Las √ölceras por Presi√≥n (UPP) son lesiones localizadas en la piel y/o tejidos subyacentes, generalmente sobre prominencias √≥seas, como resultado de la presi√≥n o la presi√≥n en combinaci√≥n con cizallamiento.

TIEMPO CR√çTICO: Se pueden generar con presiones peque√±as mantenidas durante per√≠odos prolongados O con presiones elevadas mantenidas durante per√≠odos cortos (incluso 2 horas).

MECANISMO: La presi√≥n interrumpe el flujo sangu√≠neo, causando isquemia tisular y posterior necrosis.`
                    },
                    {
                        title: "2. CLASIFICACI√ìN POR CATEGOR√çAS",
                        content: `SISTEMA DE 4 CATEGOR√çAS basado en la profundidad de la lesi√≥n:

‚Ä¢ CATEGOR√çA I: Eritema no blanqueante en piel intacta
‚Ä¢ CATEGOR√çA II: P√©rdida parcial del grosor de la piel (dermis)
‚Ä¢ CATEGOR√çA III: P√©rdida total del grosor de la piel (hasta tejido subcut√°neo)
‚Ä¢ CATEGOR√çA IV: P√©rdida total del grosor de los tejidos (hasta hueso, tend√≥n, m√∫sculo)

La Categor√≠a IV es la m√°s grave y corresponde a la p√©rdida total del espesor de los tejidos.`
                    },
                    {
                        title: "3. LOCALIZACIONES SEG√öN POSICI√ìN",
                        content: `Las UPP aparecen en ZONAS DE APOYO seg√∫n la posici√≥n del paciente:

DEC√öBITO SUPINO: Sacro, talones, occipital, codos
DEC√öBITO LATERAL: Mal√©olos, costillas, orejas, troc√°nter mayor
DEC√öBITO PRONO: Rodillas, dedos de los pies, frente
SEDESTACI√ìN: Isquiones, sacro

NOTA: En dec√∫bito lateral, el COXIS NO se localiza UPP ya que no est√° en contacto con la superficie.

UPP POR DISPOSITIVOS SANITARIOS:
‚Ä¢ Nariz: gafas nasales, sondas nasog√°stricas, mascarillas
‚Ä¢ Los drenajes NO causan UPP en la nariz`
                    },
                    {
                        title: "4. FACTORES DE RIESGO",
                        content: `FACTORES INTR√çNSECOS (del paciente):
‚Ä¢ Diabetes mellitus
‚Ä¢ Incontinencia urinaria
‚Ä¢ Inconsciencia/alteraci√≥n del nivel de conciencia
‚Ä¢ Estado nutricional deficiente
‚Ä¢ Edad avanzada
‚Ä¢ Movilidad reducida

FACTORES EXTR√çNSECOS (del entorno):
‚Ä¢ HUMEDAD (factor extr√≠nseco, NO intr√≠nseco)
‚Ä¢ Fricci√≥n y cizallamiento
‚Ä¢ Presi√≥n prolongada
‚Ä¢ Superficies inadecuadas`
                    },
                    {
                        title: "5. ESCALAS DE VALORACI√ìN DEL RIESGO DE UPP",
                        content: `üîç ESCALA DE NORTON (M√°s utilizada en Espa√±a)
Eval√∫a 5 par√°metros con puntuaci√≥n de 1-4 cada uno:

1. CONDICI√ìN F√çSICA GENERAL:
   ‚Ä¢ 4 puntos: Buena (sin patolog√≠a relevante)
   ‚Ä¢ 3 puntos: Regular (alguna patolog√≠a cr√≥nica controlada)
   ‚Ä¢ 2 puntos: Mala (patolog√≠a grave o descompensada)
   ‚Ä¢ 1 punto: Muy mala (estado terminal o cr√≠tico)

2. ESTADO DE ACTIVIDAD:
   ‚Ä¢ 4 puntos: Ambulante sin ayuda
   ‚Ä¢ 3 puntos: Camina con ayuda (bast√≥n, andador)
   ‚Ä¢ 2 puntos: Silla de ruedas (se moviliza solo)
   ‚Ä¢ 1 punto: Encamado (dependiente completo)

3. MOVILIDAD:
   ‚Ä¢ 4 puntos: Total (se mueve sin limitaciones)
   ‚Ä¢ 3 puntos: Algo limitada (se mueve con esfuerzo)
   ‚Ä¢ 2 puntos: Muy limitada (movimientos m√≠nimos)
   ‚Ä¢ 1 punto: Inm√≥vil (no puede cambiar de posici√≥n)

4. INCONTINENCIA:
   ‚Ä¢ 4 puntos: No (control total esf√≠nteres)
   ‚Ä¢ 3 puntos: Ocasional (incontinencia espor√°dica)
   ‚Ä¢ 2 puntos: Urinaria habitual (solo orina)
   ‚Ä¢ 1 punto: Doble incontinencia (urinaria + fecal)

5. ESTADO MENTAL:
   ‚Ä¢ 4 puntos: Alerta y orientado
   ‚Ä¢ 3 puntos: Ap√°tico (disminuci√≥n respuesta est√≠mulos)
   ‚Ä¢ 2 puntos: Confuso (desorientaci√≥n temporal/espacial)
   ‚Ä¢ 1 punto: Estuporoso/Comatoso

INTERPRETACI√ìN DE RESULTADOS NORTON:
‚Ä¢ 15-20 puntos: Riesgo M√çNIMO - Vigilancia rutinaria
‚Ä¢ 13-14 puntos: Riesgo MEDIO - Medidas preventivas b√°sicas
‚Ä¢ 10-12 puntos: Riesgo ALTO - Protocolo preventivo intensivo
‚Ä¢ 5-9 puntos: Riesgo MUY ALTO - M√°ximas medidas preventivas

‚ö†Ô∏è ERROR FRECUENTE EN EX√ÅMENES: 11-20 NO es riesgo m√≠nimo.`
                    }
                ]
            };

            // Timer effect
            useEffect(() => {
                let interval = null;
                if (timerRunning && !examFinished) {
                    interval = setInterval(() => {
                        setTimer(timer => timer + 1);
                    }, 1000);
                } else if (!timerRunning) {
                    clearInterval(interval);
                }
                return () => clearInterval(interval);
            }, [timerRunning, examFinished]);

            // Formatear tiempo
            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            };

            // Funci√≥n para descargar el resumen
            const downloadResumen = () => {
                let content = `${theoreticalContent.title}\n\n`;
                content += `Contenido extra√≠do de las 22 preguntas reales que han salido en ex√°menes\n`;
                content += `M√©todo Pareto 20/80: Solo lo que S√ç sale en ex√°menes\n\n`;
                content += `${'='.repeat(80)}\n\n`;

                theoreticalContent.sections.forEach((section, index) => {
                    content += `${section.title}\n`;
                    content += `${'-'.repeat(section.title.length)}\n\n`;
                    content += `${section.content}\n\n`;
                    if (index < theoreticalContent.sections.length - 1) {
                        content += `${'-'.repeat(40)}\n\n`;
                    }
                });

                content += `\n${'='.repeat(80)}\n`;
                content += `Generado por: Aplicaci√≥n Interactiva TCAE - Tema 21: √ölceras por Presi√≥n\n`;
                content += `Fecha: ${new Date().toLocaleDateString('es-ES')}\n`;
                content += `Total de preguntas analizadas: 22\n`;

                const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
                const url = window.URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'TCAE_Tema21_UlcerasPresion_ResumenTeorico.txt';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                window.URL.revokeObjectURL(url);
            };

            // Calcular puntuaci√≥n Norton
            const calculateNortonScore = () => {
                return Object.values(nortonScore).reduce((sum, value) => sum + value, 0);
            };

            const getNortonRiskLevel = (score) => {
                if (score >= 15) return { level: "M√çNIMO", color: "text-green-600", bg: "bg-green-100" };
                if (score >= 13) return { level: "MEDIO", color: "text-yellow-600", bg: "bg-yellow-100" };
                if (score >= 10) return { level: "ALTO", color: "text-orange-600", bg: "bg-orange-100" };
                return { level: "MUY ALTO", color: "text-red-600", bg: "bg-red-100" };
            };

            // Estad√≠sticas
            const getStats = () => {
                const totalAnswered = Object.keys(userAnswers).length;
                const correctAnswers = Object.values(userAnswers).filter(answer => answer.correct).length;
                const percentage = totalAnswered > 0 ? Math.round((correctAnswers / totalAnswered) * 100) : 0;
                return { totalAnswered, correctAnswers, percentage };
            };

            // M√≥dulos
            const modules = [
                { id: 'theory', icon: 'book', title: 'Resumen Te√≥rico', desc: 'Conceptos clave extra√≠dos de las preguntas reales' },
                { id: 'download', icon: 'download', title: 'Descargar Resumen', desc: 'Descarga el contenido te√≥rico completo' },
                { id: 'study', icon: 'study', title: 'Modo Estudio', desc: 'Aprendizaje guiado con explicaciones' },
                { id: 'exam', icon: 'exam', title: 'Modo Examen', desc: 'Simulacro cronometrado' },
                { id: 'random', icon: 'random', title: 'Modo Aleatorio', desc: 'Preguntas en orden random' },
                { id: 'norton', icon: 'calculator', title: 'Calculadora Norton', desc: 'Herramienta de valoraci√≥n de riesgo' },
                { id: 'gallery', icon: 'gallery', title: 'Galer√≠a Visual', desc: 'Im√°genes y esquemas explicativos' },
                { id: 'stats', icon: 'stats', title: 'Estad√≠sticas', desc: 'Progreso y rendimiento' }
            ];

            // Componente Home
            const HomeModule = () => (
                <div className="max-w-4xl mx-auto">
                    <div className="text-center mb-8">
                        <h1 className="text-3xl font-bold text-blue-800 mb-2">
                            üè• TEMA 21: √öLCERAS POR PRESI√ìN
                        </h1>
                        <p className="text-gray-600 mb-4">Aplicaci√≥n interactiva basada en 22 preguntas reales de examen</p>
                        <div className="bg-blue-50 rounded-lg p-4 inline-block">
                            <p className="text-sm text-blue-700">
                                üìä <strong>M√©todo Pareto 20/80:</strong> Estudiamos solo lo que S√ç sale en ex√°menes
                            </p>
                        </div>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {modules.map((module, index) => (
                            <div
                                key={module.id}
                                className={`bg-white rounded-lg shadow-lg hover:shadow-xl transition-shadow cursor-pointer border-l-4 ${
                                    module.id === 'download' ? 'border-green-500 bg-green-50' : 'border-blue-500'
                                }`}
                                onClick={() => {
                                    if (module.id === 'download') {
                                        downloadResumen();
                                    } else {
                                        setCurrentModule(module.id);
                                    }
                                }}
                            >
                                <div className="p-6">
                                    <div className="flex items-center mb-3">
                                        <span className={`icon icon-${module.icon} mr-3`}></span>
                                        <h3 className={`font-semibold text-lg ${
                                            module.id === 'download' ? 'text-green-800' : 'text-gray-800'
                                        }`}>
                                            {module.title}
                                        </h3>
                                    </div>
                                    <p className={`text-sm mb-4 ${
                                        module.id === 'download' ? 'text-green-700' : 'text-gray-600'
                                    }`}>
                                        {module.desc}
                                    </p>
                                    <div className="flex justify-between items-center">
                                        <span className={`text-xs px-2 py-1 rounded ${
                                            module.id === 'download' 
                                                ? 'bg-green-200 text-green-800' 
                                                : 'bg-blue-100 text-blue-700'
                                        }`}>
                                            {module.id === 'download' ? 'Descarga Directa' : `M√≥dulo ${index}`}
                                        </span>
                                        <span className="icon icon-arrow-right text-blue-500"></span>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>

                    <div className="mt-8 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6">
                        <h3 className="font-semibold text-lg mb-3">üéØ Flujo de Estudio Recomendado</h3>
                        <div className="text-sm text-gray-700">
                            üìñ Resumen Te√≥rico ‚Üí üì• Descarga ‚Üí üìö Modo Estudio ‚Üí üìä Calculadora Norton ‚Üí üñºÔ∏è Galer√≠a Visual ‚Üí üé≤ Modo Aleatorio ‚Üí ‚ö° Modo Examen ‚Üí üìà Estad√≠sticas
                        </div>
                    </div>
                </div>
            );

            // Componente Teor√≠a
            const TheoryModule = () => (
                <div className="max-w-4xl mx-auto">
                    <div className="bg-white rounded-lg shadow-lg">
                        <div className="bg-blue-600 text-white p-6 rounded-t-lg">
                            <h2 className="text-2xl font-bold flex items-center">
                                <span className="icon icon-book mr-3"></span>
                                {theoreticalContent.title}
                            </h2>
                            <p className="mt-2 opacity-90">Contenido extra√≠do de las 22 preguntas reales que han salido en ex√°menes</p>
                        </div>
                        
                        <div className="p-6">
                            {theoreticalContent.sections.map((section, index) => (
                                <div key={index} className="mb-8 last:mb-0">
                                    <h3 className="text-xl font-semibold text-blue-800 mb-4 border-l-4 border-blue-500 pl-4">
                                        {section.title}
                                    </h3>
                                    <div className="bg-gray-50 rounded-lg p-4">
                                        <pre className="text-gray-700 whitespace-pre-wrap font-sans text-sm leading-relaxed">
                                            {section.content}
                                        </pre>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            // Componente Norton
            const NortonModule = () => {
                const totalScore = calculateNortonScore();
                const riskLevel = getNortonRiskLevel(totalScore);

                return (
                    <div className="max-w-4xl mx-auto">
                        <div className="bg-white rounded-lg shadow-lg">
                            <div className="bg-purple-600 text-white p-6 rounded-t-lg">
                                <h2 className="text-2xl font-bold flex items-center">
                                    <span className="icon icon-calculator mr-3"></span>
                                    Calculadora Escala Norton
                                </h2>
                                <p className="mt-2 opacity-90">Valoraci√≥n del riesgo de √∫lceras por presi√≥n</p>
                            </div>

                            <div className="p-6">
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div className="space-y-6">
                                        {Object.entries({
                                            condicion: "Condici√≥n F√≠sica General",
                                            actividad: "Estado de Actividad", 
                                            movilidad: "Movilidad",
                                            incontinencia: "Incontinencia",
                                            estado_mental: "Estado Mental"
                                        }).map(([key, label]) => (
                                            <div key={key}>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">{label}</label>
                                                <select 
                                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                                    value={nortonScore[key]}
                                                    onChange={(e) => setNortonScore({...nortonScore, [key]: parseInt(e.target.value)})}
                                                >
                                                    <option value={4}>4 - Muy bueno/Normal</option>
                                                    <option value={3}>3 - Bueno/Ligera limitaci√≥n</option>
                                                    <option value={2}>2 - Regular/Muy limitado</option>
                                                    <option value={1}>1 - Malo/Inm√≥vil</option>
                                                </select>
                                            </div>
                                        ))}
                                    </div>

                                    <div className="bg-gray-50 rounded-lg p-6">
                                        <h3 className="text-lg font-semibold mb-4">Resultado de la Valoraci√≥n</h3>
                                        <div className="text-center mb-6">
                                            <div className="text-4xl font-bold text-purple-600 mb-2">{totalScore}</div>
                                            <div className="text-gray-600">Puntuaci√≥n Total</div>
                                        </div>

                                        <div className={`${riskLevel.bg} ${riskLevel.color} rounded-lg p-4 text-center mb-4`}>
                                            <div className="font-semibold text-lg">RIESGO {riskLevel.level}</div>
                                        </div>

                                        <div className="text-sm text-gray-600 space-y-2">
                                            <div className="flex justify-between"><span>15-20 puntos:</span><span className="text-green-600">Riesgo M√≠nimo</span></div>
                                            <div className="flex justify-between"><span>13-14 puntos:</span><span className="text-yellow-600">Riesgo Medio</span></div>
                                            <div className="
